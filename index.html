<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For Avinya üå∏</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&family=Quicksand:wght@400;500&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <style>
        :root {
            --deep-rose: #880d1e;
            --soft-pink: #fbc4ab;
            --nature-green: #d8e2dc;
            --text-dark: #4a4a4a;
        }

        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            font-family: 'Quicksand', sans-serif;
            background: #fffafa;
            overflow: hidden;
            color: var(--text-dark);
        }

        .nature-bg {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(to bottom, #fdfcfb 0%, #e2d1c3 100%);
            z-index: -2;
        }

        /* Falling Petals */
        .petal {
            position: fixed;
            background-color: #ffb6c1;
            border-radius: 150% 0 150% 0;
            opacity: 0.7;
            pointer-events: none;
            z-index: -1;
            animation: fall linear infinite;
        }

        @keyframes fall {
            0% { transform: translateY(-10vh) rotate(0deg); }
            100% { transform: translateY(110vh) rotate(360deg); }
        }

        .slide {
            display: none;
            height: 100vh;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 30px;
            box-sizing: border-box;
        }

        .active { display: flex; }

        h1, h2, .script-font {
            font-family: 'Dancing Script', cursive;
            color: var(--deep-rose);
        }

        /* Typewriter Animation */
        .typewriter-text {
            display: inline-block;
            overflow: hidden;
            border-right: 3px solid var(--deep-rose);
            white-space: nowrap;
            margin: 0 auto;
            letter-spacing: .10em;
            animation: typing 3s steps(30, end), blink-caret .75s step-end infinite;
        }

        @keyframes typing { from { width: 0 } to { width: 100% } }
        @keyframes blink-caret { from, to { border-color: transparent } 50% { border-color: var(--deep-rose); } }

        .btn-heart {
            background: var(--deep-rose);
            color: white;
            border: none;
            padding: 15px 35px;
            border-radius: 50px;
            font-size: 1.1rem;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(136, 13, 30, 0.3);
            transition: transform 0.3s;
            font-family: 'Quicksand', sans-serif;
        }
        .btn-heart:hover { transform: scale(1.05); }

        /* Cuteness Meter */
        .meter-container {
            width: 250px;
            height: 20px;
            background: #ddd;
            border-radius: 10px;
            margin: 20px 0;
            border: 2px solid var(--deep-rose);
            overflow: hidden;
        }
        .meter-fill { width: 0%; height: 100%; background: var(--deep-rose); }

        /* Message Boxes (Dark) */
        .msg-grid {
            display: flex;
            flex-direction: column;
            gap: 12px;
            width: 100%;
            max-width: 350px;
        }
        .msg-box {
            background: #2d0202; /* Very dark pinkish brown */
            color: white;
            padding: 18px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.5s;
        }
        .msg-box.revealed {
            background: #ffffff;
            color: var(--deep-rose);
            border: 2px solid var(--deep-rose);
        }
        .msg-box.hidden::after { content: "Tap to reveal ‚ú®"; font-size: 0.8rem; opacity: 0.6; }

        /* Envelope & Letter */
        .envelope {
            width: 180px;
            height: 130px;
            background: #f8ad9d;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 5px;
            cursor: pointer;
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
        }
        .heart-seal { font-size: 50px; animation: pulse 1.5s infinite; }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.2); } }

        .letter-content {
            display: none;
            background: white;
            padding: 25px;
            border-radius: 10px;
            max-width: 450px;
            line-height: 1.6;
            text-align: left;
            border-left: 5px solid var(--deep-rose);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            font-size: 0.95rem;
        }

        .flower-icon { font-size: 2rem; margin: 10px; }
        
        .one-more-box {
            background: white;
            border: 2px dashed var(--deep-rose);
            padding: 40px;
            border-radius: 20px;
            cursor: pointer;
            transition: background 0.3s;
        }
        .one-more-box:hover { background: #fff0f3; }
    </style>
</head>
<body>

    <div class="nature-bg"></div>
    <div id="petals-container"></div>

    <div class="slide active" id="slide0">
        <div class="flower-icon">üíê</div>
        <button class="btn-heart" onclick="nextSlide(1)">Open my heart ‚ù§Ô∏è</button>
    </div>

    <div class="slide" id="slide1">
        <h1 class="typewriter-text">Hey Avinya...</h1>
        <h2 class="script-font">Do you know how beautiful you are?</h2>
        <button class="btn-heart" style="margin-top:20px" onclick="nextSlide(2)">Tell me...</button>
    </div>

    <div class="slide" id="slide2">
        <h2 class="script-font">Measuring your cuteness...</h2>
        <div class="meter-container">
            <div id="meter" class="meter-fill"></div>
        </div>
        <h3 id="status-text">Analyzing...</h3>
        <h1 id="overflow-msg" style="display:none; color: var(--deep-rose); font-size: 2rem;">TOO PRETTY TO HANDLE! üî•</h1>
        <button id="next2" style="display:none" class="btn-heart" onclick="nextSlide(3)">Continue üå∏</button>
    </div>

    <div class="slide" id="slide3">
        <h2 class="script-font">Tap these, Avinya</h2>
        <div class="msg-grid">
            <div class="msg-box hidden" onclick="revealMsg(this, 'You look adorable')"></div>
            <div class="msg-box hidden" onclick="revealMsg(this, 'You have the sweetest vibe')"></div>
            <div class="msg-box hidden" onclick="revealMsg(this, 'You make things feel lighter')"></div>
            <div class="msg-box hidden" onclick="revealMsg(this, 'You are naturally charming')"></div>
            <div class="msg-box hidden" onclick="revealMsg(this, 'You make everything feel special')"></div>
        </div>
        <button id="next3" style="display:none; margin-top:20px;" class="btn-heart" onclick="nextSlide(4)">Next</button>
    </div>

    <div class="slide" id="slide4">
        <div id="envelope" class="envelope" onclick="openEnvelope()">
            <div class="heart-seal">‚ù§Ô∏è</div>
        </div>
        <div id="letter" class="letter-content">
            <p><strong>Hey you üå∏</strong></p>
            <p>I just want you to know how genuinely special you are. The way you smile, the way you talk, the way you exist‚Äîit all has this calm, comforting magic that makes things feel lighter. I hope you‚Äôre taking care of yourself today, drinking enough water, resting when you need to, and remembering that you don‚Äôt always have to be strong.</p>
            <p>You deserve softness, patience, and little moments of peace. And whenever you feel tired or overwhelmed, just know there‚Äôs someone out here who genuinely wants you to be okay, to feel appreciated, and to smile a little more.</p>
            <p>Be gentle with yourself‚Ä¶ you‚Äôre doing better than you think ü§ç‚ú®</p>
            <button class="btn-heart" style="width:100%; margin-top:15px;" onclick="nextSlide(5)">Continue</button>
        </div>
    </div>

    <div class="slide" id="slide5">
        <div class="one-more-box" onclick="nextSlide(6)">
            <h2 class="script-font" style="margin:0;">One more thing... ‚ú®</h2>
        </div>
    </div>

    <div class="slide" id="slide6">
        <h1 class="typewriter-text" id="final-text">You'll be always special to me</h1>
        <div class="flower-icon" style="font-size: 3rem; margin-top: 20px;">üå∏‚ú®ü§ç</div>
    </div>

    <script>
        // Petal generation
        const petalsContainer = document.getElementById('petals-container');
        for (let i = 0; i < 25; i++) {
            const petal = document.createElement('div');
            petal.className = 'petal';
            petal.style.left = Math.random() * 100 + 'vw';
            petal.style.width = Math.random() * 15 + 10 + 'px';
            petal.style.height = petal.style.width;
            petal.style.animationDuration = Math.random() * 3 + 3 + 's';
            petal.style.animationDelay = Math.random() * 5 + 's';
            petalsContainer.appendChild(petal);
        }

        function nextSlide(n) {
            document.querySelectorAll('.slide').forEach(s => s.classList.remove('active'));
            document.getElementById('slide' + n).classList.add('active');
            
            if(n === 2) handleScale();
            if(n === 6) {
                confetti({ particleCount: 200, spread: 90, origin: { y: 0.6 }, colors: ['#880d1e', '#ffb6c1', '#ffffff'] });
            }
        }

        function handleScale() {
            const meter = document.getElementById('meter');
            const status = document.getElementById('status-text');
            const overflow = document.getElementById('overflow-msg');
            const btn = document.getElementById('next2');
            
            setTimeout(() => {
                meter.style.transition = "width 3s ease-in-out";
                meter.style.width = "100%";
                status.innerText = "100%...";
                setTimeout(() => {
                    meter.style.width = "250%"; 
                    meter.style.background = "#ff4d6d";
                    status.innerText = "SCALE BROKEN!";
                    overflow.style.display = "block";
                    btn.style.display = "inline-block";
                    confetti({ particleCount: 50, colors: ['#ffb6c1'] });
                }, 3200);
            }, 500);
        }

        let revealed = 0;
        function revealMsg(el, text) {
            if (el.classList.contains('hidden')) {
                el.classList.remove('hidden');
                el.classList.add('revealed');
                el.innerText = text;
                revealed++;
                if (revealed === 5) document.getElementById('next3').style.display = 'block';
            }
        }

        function openEnvelope() {
            document.getElementById('envelope').style.display = 'none';
            document.getElementById('letter').style.display = 'block';
            confetti({ particleCount: 150, spread: 60 });
        }
    </script>
</body>
</html>
