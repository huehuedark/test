<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For Avinya üå∏</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&family=Quicksand:wght@400;500&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <style>
        :root {
            --deep-rose: #880d1e;
            --nature-pink: #ffb6c1;
            --sky-blue: #d9f2ff;
        }

        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            width: 100%;
            font-family: 'Quicksand', sans-serif;
            background: var(--sky-blue);
            overflow: hidden;
            color: #333;
        }

        /* Fixed Background & Nature Elements */
        .nature-container {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(to bottom, #a2d2ff 0%, #ffffff 100%);
            z-index: -10;
        }

        /* Clouds */
        .cloud {
            position: absolute;
            background: white;
            width: 80px; height: 30px;
            border-radius: 50px;
            opacity: 0.9;
            z-index: -9;
            animation: moveClouds 25s linear infinite;
        }
        .cloud::after {
            content: ''; position: absolute; background: white;
            width: 40px; height: 40px; border-radius: 50%; top: -20px; left: 15px;
        }

        @keyframes moveClouds {
            from { left: -120px; }
            to { left: 110%; }
        }

        /* Tree */
        .tree {
            position: absolute; bottom: 0; left: 5%;
            font-size: 5rem; transform-origin: bottom center;
            animation: sway 4s ease-in-out infinite;
            z-index: -8;
            user-select: none;
        }
        @keyframes sway { 0%, 100% { transform: rotate(0deg); } 50% { transform: rotate(3deg); } }

        /* Birds */
        .bird {
            position: absolute; top: 15%; font-size: 1.5rem;
            animation: fly 15s linear infinite;
            z-index: -8;
        }
        @keyframes fly {
            0% { left: -10%; transform: scaleX(1); }
            100% { left: 110%; transform: scaleX(1); }
        }

        /* Falling Petals */
        .petal {
            position: fixed; background: var(--nature-pink);
            border-radius: 150% 0 150% 0; opacity: 0.6;
            z-index: -5; animation: fall 6s linear infinite;
        }
        @keyframes fall {
            0% { transform: translateY(-10vh) rotate(0deg); }
            100% { transform: translateY(110vh) rotate(360deg); }
        }

        /* Slides Layout */
        .slide {
            display: none; height: 100vh; width: 100%;
            flex-direction: column; justify-content: center;
            align-items: center; text-align: center;
            padding: 20px; box-sizing: border-box;
            position: absolute; top: 0; left: 0;
        }
        .active { display: flex; }

        h1, h2, .script-font {
            font-family: 'Dancing Script', cursive;
            color: var(--deep-rose);
            word-wrap: break-word;
        }

        /* Typewriter Animation Fix for Mobile */
        .typewriter-container {
            width: 100%;
            max-width: 320px; /* Limits width to ensure wrapping */
            margin: 0 auto;
        }

        .typewriter-text {
            display: inline-block;
            overflow: hidden;
            border-right: 3px solid var(--deep-rose);
            white-space: normal; /* Allow wrapping */
            font-size: 1.8rem;
            animation: blink-caret .75s step-end infinite;
            line-height: 1.3;
        }

        @keyframes blink-caret { from, to { border-color: transparent } 50% { border-color: var(--deep-rose); } }

        /* UI Elements */
        .btn-heart {
            background: var(--deep-rose); color: white;
            border: none; padding: 14px 28px; border-radius: 50px;
            font-size: 1.1rem; cursor: pointer; margin-top: 15px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }

        .meter-container {
            width: 80%; max-width: 250px; height: 18px;
            background: #eee; border-radius: 10px;
            margin: 20px 0; border: 2px solid var(--deep-rose); overflow: hidden;
        }
        .meter-fill { width: 0%; height: 100%; background: var(--deep-rose); }

        /* Dark Reveal Boxes */
        .msg-grid { display: flex; flex-direction: column; gap: 10px; width: 95%; max-width: 300px; }
        .msg-box {
            background: #2b0101; color: white; padding: 16px;
            border-radius: 12px; cursor: pointer; font-size: 0.95rem;
            transition: all 0.4s ease;
        }
        .msg-box.revealed { background: white; color: var(--deep-rose); border: 2px solid var(--deep-rose); }

        /* Envelope */
        .envelope {
            width: 260px; height: 160px; background: #f8ad9d;
            border-radius: 10px; display: flex; flex-direction: column;
            justify-content: center; align-items: center;
            box-shadow: 0 12px 24px rgba(0,0,0,0.2);
            border: 2px solid #f4978e;
        }
        .heart-seal { font-size: 55px; position: relative; animation: pulse 1.5s infinite; }
        .seal-label {
            font-size: 10px; color: white; position: absolute;
            top: 50%; left: 50%; transform: translate(-50%, -50%);
            font-weight: bold; text-transform: uppercase;
        }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }

        .letter-content {
            display: none; background: white; padding: 25px;
            border-radius: 15px; max-width: 90%; font-size: 0.9rem;
            line-height: 1.6; text-align: left; 
            border-top: 8px solid var(--deep-rose);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .flower-footer { font-size: 2rem; margin-top: 15px; }
    </style>
</head>
<body>

    <div class="nature-container">
        <div class="cloud" style="top: 10%; animation-duration: 30s;"></div>
        <div class="cloud" style="top: 25%; animation-duration: 40s; animation-delay: -15s;"></div>
        <div class="tree">üå≥</div>
        <div class="bird">üïäÔ∏è</div>
    </div>
    <div id="petals-container"></div>

    <div class="slide active" id="slide1">
        <div class="typewriter-container">
            <h1 class="typewriter-text">Hey Avinya...</h1>
        </div>
        <h2 class="script-font">Do you know how beautiful you are?</h2>
        <button class="btn-heart" onclick="nextSlide(2)">Open my heart ‚ù§Ô∏è</button>
    </div>

    <div class="slide" id="slide2">
        <h2 class="script-font">Measuring your cuteness...</h2>
        <div class="meter-container">
            <div id="meter" class="meter-fill"></div>
        </div>
        <h3 id="status-text">Analyzing...</h3>
        <h1 id="overflow-msg" style="display:none; color: var(--deep-rose); font-size: 1.8rem;">TOO PRETTY TO HANDLE! üî•</h1>
        <button id="next2" style="display:none" class="btn-heart" onclick="nextSlide(3)">Continue üå∏</button>
    </div>

    <div class="slide" id="slide3">
        <h2 class="script-font">Tap for you...</h2>
        <div class="msg-grid">
            <div class="msg-box" onclick="revealMsg(this, 'you look adorable')">Tap to reveal ‚ú®</div>
            <div class="msg-box" onclick="revealMsg(this, 'you have the sweetest vibe')">Tap to reveal ‚ú®</div>
            <div class="msg-box" onclick="revealMsg(this, 'you make things feel lighter')">Tap to reveal ‚ú®</div>
            <div class="msg-box" onclick="revealMsg(this, 'you are naturally charming')">Tap to reveal ‚ú®</div>
            <div class="msg-box" onclick="revealMsg(this, 'you make everything thing feel special')">Tap to reveal ‚ú®</div>
        </div>
        <button id="next3" style="display:none" class="btn-heart" onclick="nextSlide(4)">Next</button>
    </div>

    <div class="slide" id="slide4">
        <div id="envelope-wrapper" onclick="openEnvelope()">
            <div class="envelope">
                <span style="color:white; font-family:'Dancing Script'; font-size: 1.5rem;">a note for you</span>
                <div class="heart-seal">‚ù§Ô∏è<span class="seal-label">tap</span></div>
            </div>
        </div>
        <div id="letter" class="letter-content">
            <p><strong>Hey you üå∏</strong></p>
            <p>I just want you to know how genuinely special you are. The way you smile, the way you talk, the way you exist‚Äîit all has this calm, comforting magic that makes things feel lighter. I hope you‚Äôre taking care of yourself today, drinking enough water, resting when you need to, and remembering that you don‚Äôt always have to be strong.</p>
            <p>You deserve softness, patience, and little moments of peace. And whenever you feel tired or overwhelmed, just know there‚Äôs someone out here who genuinely wants you to be okay, to feel appreciated, and to smile a little more.</p>
            <p>Be gentle with yourself‚Ä¶ you‚Äôre doing better than you think ü§ç‚ú®</p>
            <button class="btn-heart" style="width:100%" onclick="nextSlide(5)">Continue</button>
        </div>
    </div>

    <div class="slide" id="slide5">
        <div style="background: white; border: 2px dashed var(--deep-rose); padding: 40px; border-radius: 20px; cursor: pointer;" onclick="nextSlide(6)">
            <h2 class="script-font" style="margin:0;">One more thing... ‚ú®</h2>
        </div>
    </div>

    <div class="slide" id="slide6">
        <div class="typewriter-container">
            <h1 class="typewriter-text">You'll be always <br> special to me</h1>
        </div>
        <div class="flower-footer">üå∏‚ú®ü§çüíê</div>
    </div>

    <script>
        // Generate Falling Petals
        const petalsContainer = document.getElementById('petals-container');
        for (let i = 0; i < 20; i++) {
            const petal = document.createElement('div');
            petal.className = 'petal';
            petal.style.left = Math.random() * 100 + 'vw';
            petal.style.width = Math.random() * 10 + 12 + 'px';
            petal.style.height = petal.style.width;
            petal.style.animationDuration = (Math.random() * 3 + 4) + 's';
            petal.style.animationDelay = Math.random() * 5 + 's';
            petalsContainer.appendChild(petal);
        }

        function nextSlide(n) {
            document.querySelectorAll('.slide').forEach(s => s.classList.remove('active'));
            document.getElementById('slide' + n).classList.add('active');
            if(n === 2) handleScale();
            if(n === 6) {
                confetti({ particleCount: 150, spread: 70, origin: { y: 0.7 }, colors: ['#880d1e', '#ffb6c1'] });
            }
        }

        function handleScale() {
            const meter = document.getElementById('meter');
            const status = document.getElementById('status-text');
            const overflow = document.getElementById('overflow-msg');
            const btn = document.getElementById('next2');
            setTimeout(() => {
                meter.style.transition = "width 3s ease-in-out";
                meter.style.width = "100%";
                status.innerText = "100%...";
                setTimeout(() => {
                    meter.style.width = "250%";
                    meter.style.background = "#ff4d6d";
                    status.innerText = "SCALE BROKEN!";
                    overflow.style.display = "block";
                    btn.style.display = "inline-block";
                    confetti({ particleCount: 40 });
                }, 3200);
            }, 500);
        }

        let revealed = 0;
        function revealMsg(el, text) {
            if (!el.classList.contains('revealed')) {
                el.innerText = text;
                el.classList.add('revealed');
                revealed++;
                if (revealed === 5) document.getElementById('next3').style.display = 'block';
            }
        }

        function openEnvelope() {
            document.getElementById('envelope-wrapper').style.display = 'none';
            document.getElementById('letter').style.display = 'block';
            confetti({ particleCount: 100, spread: 60 });
        }
    </script>
</body>
</html>
